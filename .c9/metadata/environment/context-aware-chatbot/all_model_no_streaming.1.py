{"filter":false,"title":"all_model_no_streaming.1.py","tooltip":"/context-aware-chatbot/all_model_no_streaming.1.py","undoManager":{"mark":23,"position":23,"stack":[[{"start":{"row":89,"column":13},"end":{"row":90,"column":0},"action":"insert","lines":["",""],"id":70},{"start":{"row":90,"column":0},"end":{"row":90,"column":16},"action":"insert","lines":["                "]}],[{"start":{"row":90,"column":16},"end":{"row":93,"column":32},"action":"insert","lines":["             \"prompt\" : '''","                            User: You are a mental therapist designed to mimic the speech patterns and language of a specific person that the user wants to talk to (e.g., a friend or family member). Your goal is to create an authentic and comforting dialogue that helps the user feel supported. # Context Users seek mental therapy but prefer conversational support that feels personal and familiar. You are in the process of developing a conversational AI to replicate the chosen person’s speech patterns to enhance the user's comfort and willingness to open up. # Rules - Always respect the user's feelings and experiences. - Do not assume the user's emotions; respond based on their input. - Use appropriate language that matches the selected person’s speech style (e.g., friend, mom). - Ensure the conversation feels natural and supportive. - Maintain professionalism and empathy, even when using casual language. - Avoid any language or behavior that could be misinterpreted as judgmental or dismissive. # Instructions 1. Identify the speech patterns and common phrases of the chosen person. 2. Implement these patterns into the conversation dynamically. 3. Continuously adapt the conversation based on user feedback and input. # Expected Input Users will provide details about the person they want the therapist to mimic. Anticipate a wide range of language and topics, requiring flexible and adaptive responses. # Output Format - The output should be in conversational text format. - Responses should be concise but meaningful, typically 1-3 sentences per response. ","                            Assistant:","                            ''',"],"id":71}],[{"start":{"row":90,"column":0},"end":{"row":90,"column":4},"action":"remove","lines":["    "],"id":72},{"start":{"row":91,"column":0},"end":{"row":91,"column":4},"action":"remove","lines":["    "]},{"start":{"row":92,"column":0},"end":{"row":92,"column":4},"action":"remove","lines":["    "]},{"start":{"row":93,"column":0},"end":{"row":93,"column":4},"action":"remove","lines":["    "]}],[{"start":{"row":90,"column":0},"end":{"row":90,"column":4},"action":"remove","lines":["    "],"id":73},{"start":{"row":91,"column":0},"end":{"row":91,"column":4},"action":"remove","lines":["    "]},{"start":{"row":92,"column":0},"end":{"row":92,"column":4},"action":"remove","lines":["    "]},{"start":{"row":93,"column":0},"end":{"row":93,"column":4},"action":"remove","lines":["    "]}],[{"start":{"row":90,"column":0},"end":{"row":90,"column":4},"action":"remove","lines":["    "],"id":74},{"start":{"row":91,"column":0},"end":{"row":91,"column":4},"action":"remove","lines":["    "]},{"start":{"row":92,"column":0},"end":{"row":92,"column":4},"action":"remove","lines":["    "]},{"start":{"row":93,"column":0},"end":{"row":93,"column":4},"action":"remove","lines":["    "]}],[{"start":{"row":90,"column":0},"end":{"row":90,"column":4},"action":"remove","lines":["    "],"id":75}],[{"start":{"row":90,"column":13},"end":{"row":90,"column":16},"action":"insert","lines":["   "],"id":76}],[{"start":{"row":91,"column":16},"end":{"row":91,"column":17},"action":"remove","lines":["U"],"id":77}],[{"start":{"row":91,"column":16},"end":{"row":91,"column":17},"action":"insert","lines":["u"],"id":78}],[{"start":{"row":92,"column":16},"end":{"row":92,"column":17},"action":"remove","lines":["A"],"id":79}],[{"start":{"row":92,"column":16},"end":{"row":92,"column":17},"action":"insert","lines":["s"],"id":80}],[{"start":{"row":92,"column":16},"end":{"row":92,"column":17},"action":"remove","lines":["s"],"id":81}],[{"start":{"row":92,"column":16},"end":{"row":92,"column":17},"action":"insert","lines":["a"],"id":82}],[{"start":{"row":91,"column":22},"end":{"row":91,"column":23},"action":"insert","lines":["\\"],"id":83},{"start":{"row":91,"column":23},"end":{"row":91,"column":24},"action":"insert","lines":["\\"]}],[{"start":{"row":91,"column":23},"end":{"row":91,"column":24},"action":"remove","lines":["\\"],"id":84},{"start":{"row":91,"column":22},"end":{"row":91,"column":23},"action":"remove","lines":["\\"]},{"start":{"row":91,"column":21},"end":{"row":91,"column":22},"action":"remove","lines":[" "]},{"start":{"row":91,"column":20},"end":{"row":91,"column":21},"action":"remove","lines":[":"]},{"start":{"row":91,"column":19},"end":{"row":91,"column":20},"action":"remove","lines":["r"]},{"start":{"row":91,"column":18},"end":{"row":91,"column":19},"action":"remove","lines":["e"]},{"start":{"row":91,"column":17},"end":{"row":91,"column":18},"action":"remove","lines":["s"]},{"start":{"row":91,"column":16},"end":{"row":91,"column":17},"action":"remove","lines":["u"]},{"start":{"row":91,"column":12},"end":{"row":91,"column":16},"action":"remove","lines":["    "]},{"start":{"row":91,"column":8},"end":{"row":91,"column":12},"action":"remove","lines":["    "]}],[{"start":{"row":91,"column":4},"end":{"row":91,"column":8},"action":"remove","lines":["    "],"id":85},{"start":{"row":91,"column":0},"end":{"row":91,"column":4},"action":"remove","lines":["    "]},{"start":{"row":90,"column":30},"end":{"row":91,"column":0},"action":"remove","lines":["",""]},{"start":{"row":90,"column":29},"end":{"row":90,"column":30},"action":"remove","lines":["'"]},{"start":{"row":90,"column":28},"end":{"row":90,"column":29},"action":"remove","lines":["'"]},{"start":{"row":90,"column":27},"end":{"row":90,"column":28},"action":"remove","lines":["'"]}],[{"start":{"row":90,"column":27},"end":{"row":90,"column":28},"action":"insert","lines":["'"],"id":86},{"start":{"row":90,"column":28},"end":{"row":90,"column":29},"action":"insert","lines":["'"]},{"start":{"row":90,"column":29},"end":{"row":90,"column":30},"action":"insert","lines":["'"]}],[{"start":{"row":91,"column":25},"end":{"row":91,"column":26},"action":"remove","lines":[":"],"id":87},{"start":{"row":91,"column":24},"end":{"row":91,"column":25},"action":"remove","lines":["t"]},{"start":{"row":91,"column":23},"end":{"row":91,"column":24},"action":"remove","lines":["n"]},{"start":{"row":91,"column":22},"end":{"row":91,"column":23},"action":"remove","lines":["a"]},{"start":{"row":91,"column":21},"end":{"row":91,"column":22},"action":"remove","lines":["t"]},{"start":{"row":91,"column":20},"end":{"row":91,"column":21},"action":"remove","lines":["s"]},{"start":{"row":91,"column":19},"end":{"row":91,"column":20},"action":"remove","lines":["i"]},{"start":{"row":91,"column":18},"end":{"row":91,"column":19},"action":"remove","lines":["s"]},{"start":{"row":91,"column":17},"end":{"row":91,"column":18},"action":"remove","lines":["s"]},{"start":{"row":91,"column":16},"end":{"row":91,"column":17},"action":"remove","lines":["a"]},{"start":{"row":91,"column":12},"end":{"row":91,"column":16},"action":"remove","lines":["    "]}],[{"start":{"row":90,"column":0},"end":{"row":92,"column":20},"action":"remove","lines":["                \"prompt\" : '''You are a mental therapist designed to mimic the speech patterns and language of a specific person that the user wants to talk to (e.g., a friend or family member). Your goal is to create an authentic and comforting dialogue that helps the user feel supported. # Context Users seek mental therapy but prefer conversational support that feels personal and familiar. You are in the process of developing a conversational AI to replicate the chosen person’s speech patterns to enhance the user's comfort and willingness to open up. # Rules - Always respect the user's feelings and experiences. - Do not assume the user's emotions; respond based on their input. - Use appropriate language that matches the selected person’s speech style (e.g., friend, mom). - Ensure the conversation feels natural and supportive. - Maintain professionalism and empathy, even when using casual language. - Avoid any language or behavior that could be misinterpreted as judgmental or dismissive. # Instructions 1. Identify the speech patterns and common phrases of the chosen person. 2. Implement these patterns into the conversation dynamically. 3. Continuously adapt the conversation based on user feedback and input. # Expected Input Users will provide details about the person they want the therapist to mimic. Anticipate a wide range of language and topics, requiring flexible and adaptive responses. # Output Format - The output should be in conversational text format. - Responses should be concise but meaningful, typically 1-3 sentences per response. ","            ","                ''',"],"id":88},{"start":{"row":90,"column":0},"end":{"row":90,"column":1},"action":"insert","lines":["]"]},{"start":{"row":90,"column":1},"end":{"row":90,"column":2},"action":"insert","lines":["]"]}],[{"start":{"row":90,"column":1},"end":{"row":90,"column":2},"action":"remove","lines":["]"],"id":89},{"start":{"row":90,"column":0},"end":{"row":90,"column":1},"action":"remove","lines":["]"]},{"start":{"row":89,"column":13},"end":{"row":90,"column":0},"action":"remove","lines":["",""]}],[{"start":{"row":33,"column":0},"end":{"row":34,"column":0},"action":"remove","lines":["    \"Amazon Titan Embedding\": \"amazon.titan-embed-text-v2:0\",",""],"id":90}],[{"start":{"row":67,"column":0},"end":{"row":79,"column":49},"action":"remove","lines":["    elif 'embed' in modelId:","        ","        ","        print(\"amazon embedding selected\")","        ","        request = json.dumps(","            {\"inputText\" : prompt_data}","        )","        response = bedrock_runtime.invoke_model(modelId=modelId, body=request)","        ","        model_response = json.loads(response[\"body\"].read())","        ","        output_text = model_response[\"embedding\"]"],"id":91}],[{"start":{"row":68,"column":0},"end":{"row":69,"column":0},"action":"remove","lines":["",""],"id":92},{"start":{"row":67,"column":0},"end":{"row":68,"column":0},"action":"remove","lines":["",""]},{"start":{"row":66,"column":8},"end":{"row":67,"column":0},"action":"remove","lines":["",""]}],[{"start":{"row":36,"column":9},"end":{"row":36,"column":16},"action":"insert","lines":["Matthew"],"id":95}]]},"ace":{"folds":[],"scrolltop":1206.5999999999997,"scrollleft":0,"selection":{"start":{"row":93,"column":27},"end":{"row":93,"column":27},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":{"row":79,"state":"start","mode":"ace/mode/python"}},"timestamp":1717992479086,"hash":"c30c9572bccbbd24bd0c806f7d9bf5df1029b1ad"}